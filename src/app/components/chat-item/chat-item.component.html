<div
    [classList]="'platform-chats--item mr-2 rounded-xl flex flex-row-reverse items-center cursor-pointer gap-3 px-2 py-1 overflow-hidden ' + (isActive ? 'platform-chats--active-item' : '')">
    <div>
        <h2 class="card-header mb-1 text-sm">{{ title }}</h2>
        <div class="platform-chats--item--caption text-content2 overflow-hidden flex flex-row gap-2">
            @switch (lastMessage.type.toString()) {
            @case ("text") {}
            @case ('image') {
            <svg class="w-4 fill-content2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M19,0H5A5.006,5.006,0,0,0,0,5V19a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V5A5.006,5.006,0,0,0,19,0ZM5,2H19a3,3,0,0,1,3,3V19a2.951,2.951,0,0,1-.3,1.285l-9.163-9.163a5,5,0,0,0-7.072,0L2,14.586V5A3,3,0,0,1,5,2ZM5,22a3,3,0,0,1-3-3V17.414l4.878-4.878a3,3,0,0,1,4.244,0L20.285,21.7A2.951,2.951,0,0,1,19,22Z" />
                <path
                    d="M16,10.5A3.5,3.5,0,1,0,12.5,7,3.5,3.5,0,0,0,16,10.5Zm0-5A1.5,1.5,0,1,1,14.5,7,1.5,1.5,0,0,1,16,5.5Z" />
            </svg>
            }
            @case ('video') {
            <svg class="w-4 fill-content2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="m19 24h-14a5.006 5.006 0 0 1 -5-5v-14a5.006 5.006 0 0 1 5-5h14a5.006 5.006 0 0 1 5 5v14a5.006 5.006 0 0 1 -5 5zm-14-22a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-14a3 3 0 0 0 -3-3zm4.342 15.005a2.368 2.368 0 0 1 -1.186-.323 2.313 2.313 0 0 1 -1.164-2.021v-5.322a2.337 2.337 0 0 1 3.5-2.029l5.278 2.635a2.336 2.336 0 0 1 .049 4.084l-5.376 2.687a2.2 2.2 0 0 1 -1.101.289zm-.025-8a.314.314 0 0 0 -.157.042.327.327 0 0 0 -.168.292v5.322a.337.337 0 0 0 .5.293l5.376-2.688a.314.314 0 0 0 .12-.266.325.325 0 0 0 -.169-.292l-5.274-2.635a.462.462 0 0 0 -.228-.068z" />
            </svg>
            }
            @case ('file') {
            <svg class="w-4 fill-content2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M19.949,5.536,16.465,2.05A6.958,6.958,0,0,0,11.515,0H7A5.006,5.006,0,0,0,2,5V19a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V10.485A6.951,6.951,0,0,0,19.949,5.536ZM18.535,6.95A4.983,4.983,0,0,1,19.316,8H15a1,1,0,0,1-1-1V2.684a5.01,5.01,0,0,1,1.051.78ZM20,19a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V5A3,3,0,0,1,7,2h4.515c.164,0,.323.032.485.047V7a3,3,0,0,0,3,3h4.953c.015.162.047.32.047.485Z" />
            </svg>
            }
            }

            @if (lastMessage.caption) {
            <p class="overflow-hidden text-ellipsis whitespace-nowrap">
                {{lastMessage.caption}}
            </p>
            }
        </div>
    </div>
    <div>
        @if (avatar) {
        <div class="avatar">
            <img [src]="avatar" alt="avatar" />
        </div>
        }
        @else {
        <div class="avatar flex items-center justify-center bg-primary">
            {{ title[0].toUpperCase() }}
        </div>
        }
    </div>
</div>