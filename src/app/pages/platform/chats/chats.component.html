<div class="platform-chats">
    <div class="platform--sidebar p-4">
        <div class="platform--header">
            <img class="platform-header--icon" src="/assets/logo/icon-transparent.png" alt="Kavka Logo">
            <input [(ngModel)]="searchText" (ngModelChange)="onSearchInputChange()"
                class="input border-border bg-backgroundPrimary input-rounded block max-w-full w-100"
                placeholder="Search..." />
        </div>

        <h1 class="text-xl mt-4 mb-2">Messages</h1>

        <div class="platform-chats--list">
            @if (chatItems && chatItems.length > 0) {
            <ng-scrollbar [visibility]="'hover'" [sensorThrottleTime]="20" [appearance]="'compact'"
                class="transparent-scrollbar overflow-x-hidden">
                @for (item of chatItems; track $index) {
                <app-chat-item [isActive]="item.isActive" [chatId]="item.chatId" [avatar]="item.avatar"
                    [title]="item.title" [lastMessageType]="item.lastMessageType"
                    [lastMessageCaption]="item.lastMessageCaption"></app-chat-item>
                }
            </ng-scrollbar>
            }
            @else {
            <div class="flex flex-col gap-3 items-center justify-center w-full h-full pb-4">
                <svg class="w-10 fill-content1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M23,9c-.557,0-1.007,.455-1,1.014,.007,.547-.453,.986-1,.986h-6c-.552,0-1-.448-1-1v-2c0-.806,.55-.988,1-1h.201c.675,.664,1.446,1,2.299,1,1.064,0,2.059-.476,2.727-1.306,.668-.829,.919-1.912,.689-2.97-.247-1.132-1.088-2.091-2.198-2.503-.657-.242-1.332-.284-1.986-.134C15.487-.08,13.484-.322,12,.546c-1.483-.868-3.485-.626-4.731,.542-.654-.152-1.33-.11-1.987,.135-1.108,.411-1.95,1.37-2.197,2.502-.23,1.058,.021,2.141,.689,2.97,.668,.83,1.662,1.306,2.727,1.306,.845,0,1.611-.33,2.296-1h.192c.461,.012,1.012,.194,1.012,1v2c0,.552-.448,1-1,1H3c-.547,0-1.007-.439-1-.986,.007-.559-.443-1.014-1-1.014-.552,0-1,.447-1,1v1.649c0,6.245,4.625,11.711,10.843,12.297,7.135,.672,13.157-4.946,13.157-11.945v-2c0-.553-.448-1-1-1ZM7,14.5c0-.828,.672-1.5,1.5-1.5s1.5,.672,1.5,1.5-.672,1.5-1.5,1.5-1.5-.672-1.5-1.5Zm7.39,5.499c-1.151,0-3.63,0-4.788,0-.405,0-.707-.397-.573-.78,.375-1.072,1.532-2.22,2.972-2.22s2.6,1.15,2.965,2.224c.13,.382-.173,.775-.576,.775Zm1.11-3.999c-.828,0-1.5-.672-1.5-1.5s.672-1.5,1.5-1.5,1.5,.672,1.5,1.5-.672,1.5-1.5,1.5Z" />
                </svg>
                <span>No chats yet</span>
            </div>
            }
        </div>
    </div>

    <div class="platform-chats--viewbox">
        <app-active-chat></app-active-chat>
    </div>
</div>